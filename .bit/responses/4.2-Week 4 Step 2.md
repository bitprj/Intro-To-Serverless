---
files: index.js
stepType: PRmerge
scripts: n/a
week: 4
step: 2
name: Week 4 Step 2
---

## Week 4 Step 2

### Writing the JS

In this step, you're going to write the **js** that will call your **second HTTP Trigger function**!

## **:pencil: Task 2: Write the js and connect it to the HTTP Trigger Function.** <br>

</br>

1. In the `.js` file you created last week, create an **async function** with a parameter.
2. Remember to use **prevent default**, or else the entire project will not work!
3. Save the values from the **input html tags** (from _Week 4, Step 1_) in variables.
4. Declare a variable using the **await** keyword.
5. Open the code of your HTTP trigger in the **portal**. Find the button that says **Get Function URL** and click it.
6. Copy your function link.
7. Go back to your `.js` file and the new variable. With the function url to call the Azure function.
8. Make sure your HTTP request is **POST request** and _**not**_ a **GET request**!
</br>

<details>
<summary>:question: How do I use the function URL to call the HTTP trigger?</summary>
  </br>

Your **function URL** should be formatted like the following example:

`https://function-name.azurewebsites.net/api/trigger-name?`

After the HTTP trigger name, there might be other letters. **Delete** any extra letters or symbols at the end of the link until the format matches that of the link above.

Now, **add this** to the **end** of your link:

`emotion=&phone=`

Next, assign `phone` the **number** entered by the user. Assign `emotion` the **dominant emotion** from the emotion data. In the end, your link should look something like this:

```js

const resp = await fetch(
    "https://function-name.azurewebsites.net/api/trigger-name?emotion=" +
      emotion +
      "&phone=" +
      phone,
    {
      method: "POST",
    }
);

```

  <br>
</details>

<details>
<summary>:question: How do I use values from my HTML file in my js?</summary>
  </br>

`document.getElementById().value`

Since you **sourced** your js in the HTML file, when you enter the **input tag's id** in the parenthesis, the value from the input can be used in your js.

**Note:** the ending doesn't have to be `.value` â€“ in this case, we want a **value** because that's what the user should have entered into the input form. If the user submitted an **image**, we would say `.files[0]`. Here's an example of how to use `document.getElementById` for your homework:

```js

var number = document.getElementById("phone-input").value

```

  <br>
</details>

Now, we need to make sure the js is **called** when the user **submits** their phone number and emotion data!

## **:camping: To move on, create and merge a pull request with your new code in `index.js` into the branch `week4`!**
