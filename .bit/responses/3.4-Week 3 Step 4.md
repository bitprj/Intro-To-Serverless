---
files: n/a
stepType: checks
scripts: test.3.4.js
week: 3
step: 4
name: Your time's up....
---

Week 3 Step 4 ⬤⬤⬤⬤◯◯◯◯◯ | 🕐 Estimated completion: 10-20 minutes

## Your time's up....
*This week, you will be going through steps to ______________*

### ✅  Task:

- [ ]  Make sure you're on the `week3` branch
- [ ]  Name the function with an additional property called `codename` as the header.
- [ ]  Handle cases where if an image isn't attached, return "Sorry! No image attached."

### Handle Empty Data

Now we'll want to handle cases where the POST request's body happens to be empty. In your original `module.exports` function, before you parse the body, make sure it exists! Only then should you upload your file to blob storage.

<details>
<summary>:question: How do I catch empty POST requests?</summary>

Use an if-else statement to catch when `body == ""`. If it's empty, set the `responseMessage` to "Sorry! No image attached." Otherwise, you can safely parse the body!

```js
var responseMessage = ""
if (body == "") {
    responseMessage = "Sorry! No image attached."
} else {
    var password = req.headers['codename'];
    context.log(password)
    responseMessage = await uploadFile(parsedBody, password);
}
```

</details>

### Test Your Work

To test your work, use Postman to send a POST request *without* an image attached. You should see a response similar to the below:

```JSON
{
  "body" : "Sorry! No image attached."
}
```
> 💡 Yay! This means the error was successfully caught.